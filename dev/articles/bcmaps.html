<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Get started with bcmaps • bcmaps</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started with bcmaps">
<meta name="robots" content="noindex">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bcmaps</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/bcmaps.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/add_points.html">bcmaps layers and point data</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bcgov/bcmaps/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get started with bcmaps</h1>
            
            <h4 data-toc-skip class="date">2024-01-23</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/bcgov/bcmaps/blob/main/vignettes/bcmaps.Rmd" class="external-link"><code>vignettes/bcmaps.Rmd</code></a></small>
      <div class="d-none name"><code>bcmaps.Rmd</code></div>
    </div>

    
    
<!--
Copyright 2023 Province of British Columbia

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
-->
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a>
</h2>
<p><code>bcmaps</code> is an <a href="https://www.r-project.org" class="external-link">R</a>
package of spatial map layers for British Columbia.</p>
<p><code>bcmaps</code> provides access to various spatial layers of
British Columbia, such as administrative boundaries, natural resource
management boundaries, watercourses, census boundaries, etc. All layers
are available as <code>sf</code> objects in the <a href="https://spatialreference.org/ref/epsg/3005/" class="external-link">BC Albers</a>
projection, which is the B.C. Government standard.</p>
<p>Most layers are accessed directly from the <a href="https://catalogue.data.gov.bc.ca/" class="external-link">B.C. Data Catalogue</a> using
the <a href="https://github.com/bcgov/bcdata" class="external-link">bcdata</a> R package under
the hood. See each layer’s individual help file for more detail.</p>
<blockquote>
<p><em><strong>IMPORTANT NOTE</strong> Support for Spatial objects
(<code>sp</code>) was removed in {bcmaps} v1.3.0. Please use
<code>sf</code> objects with {bcmaps}.</em> A discussion on the
evolution of the spatial software stack in R can be found here: <a href="https://r-spatial.org/r/2022/04/12/evolution.html" class="external-link uri">https://r-spatial.org/r/2022/04/12/evolution.html</a>.</p>
</blockquote>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>To see the layers that are available, run the
<code><a href="../reference/available_layers.html">available_layers()</a></code> function:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bcgov/bcmaps" class="external-link">bcmaps</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/available_layers.html">available_layers</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Most layers are accessible by a shortcut function by the same name as
the object. Then you can use the data as you would any <code>sf</code>
object. The first time you try to access a layer, you will be prompted
for permission to download that layer to your hard drive. Subsequently
that layer is available locally for easy future access. For example:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">bc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bc_bound.html">bc_bound</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">bc</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-unnamed-chunk-3-1.png" alt="A simple map of the outline of British Columbia." width="100%"></p>
<p>There are two British Columbia boundary map layers available in
<code>bcmaps</code>:</p>
<ul>
<li>
<code><a href="../reference/bc_bound.html">bc_bound()</a></code> for fast plotting with suitable detail for
most figures (source: <a href="https://catalogue.data.gov.bc.ca/dataset/b9bd93e1-0226-4351-b943-05c6f80bd5da" class="external-link">(7.5M)
Provinces and States - The Atlas of Canada Base Maps for BC</a>)</li>
<li>
<code><a href="../reference/bc_bound_hres.html">bc_bound_hres()</a></code> for geospatial analyses requiring
detailed lineworks of British Columbia (source: <a href="https://catalogue.data.gov.bc.ca/dataset/30aeb5c1-4285-46c8-b60b-15b1a6f4258b" class="external-link">Province
of British Columbia - Boundary Terrestrial</a>)</li>
</ul>
<div class="section level3">
<h3 id="simple-features-objects">Simple Features objects<a class="anchor" aria-label="anchor" href="#simple-features-objects"></a>
</h3>
<p>By default, all layers are returned as <a href="https://cran.r-project.org/package=sf" class="external-link"><code>sf</code> spatial
objects</a>:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/bcgov/bcmaps" class="external-link">bcmaps</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Load and plot the boundaries of B.C.</span></span>
<span></span>
<span><span class="va">bc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bc_bound.html">bc_bound</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">bc</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">## Next load the Regional Districts data, then extract and plot the Kootenays</span></span>
<span><span class="va">rd</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/regional_districts.html">regional_districts</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">kootenays</span> <span class="op">&lt;-</span> <span class="va">rd</span><span class="op">[</span><span class="va">rd</span><span class="op">$</span><span class="va">ADMIN_AREA_NAME</span> <span class="op">==</span> <span class="st">"Regional District of Central Kootenay"</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">kootenays</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"lightseagreen"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-plot-maps-1.png" alt="A map of the outline of British Columbia, with the Regional District of Central Kootenay in the Southeastern part of the province shaded in green." width="100%"></p>
</div>
<div class="section level3">
<h3 id="digital-elevation-model-for-british-columbia-1250000">Digital Elevation Model for British Columbia 1:250,000<a class="anchor" aria-label="anchor" href="#digital-elevation-model-for-british-columbia-1250000"></a>
</h3>
<p>The <code>cded_raster</code> and <code>cded_stars</code> functions
return the 1:250,000 digital elevation model for British Columbia
bounded by some area of interest. Here we are retrieving the area
bounded by the <em>Logan Lake</em> census subdivision:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rspatial.org/raster" class="external-link">raster</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">aoi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/census_subdivision.html">census_subdivision</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="../reference/census_subdivision.html">census_subdivision</a></span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">CENSUS_SUBDIVISION_NAME</span> <span class="op">==</span> <span class="st">"Logan Lake"</span>, <span class="op">]</span></span>
<span><span class="va">aoi_raster</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cded_raster.html">cded_raster</a></span><span class="op">(</span><span class="va">aoi</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">aoi_raster</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-cded-1.png" alt="A digital elevation map of a subset of B.C. (Logan Lake Census Subdivision) with high elevation in green and low elevation in pink." width="100%"></p>
</div>
<div class="section level3">
<h3 id="its-a-beautiful-day-in-the-neighbourhood">It’s a beautiful day in the neighbourhood<a class="anchor" aria-label="anchor" href="#its-a-beautiful-day-in-the-neighbourhood"></a>
</h3>
<p>A handy layer for creating maps for display is the
<code>bc_neighbours</code> layer, accessible with the function by the
same name. This example also illustrates using the popular <a href="https://ggplot2.tidyverse.org/" class="external-link">ggplot2</a> package to plot maps
in R using <code>geom_sf</code> and the <code><a href="../reference/bc_cities.html">bc_cities()</a></code>
function available in <code>bcmaps</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="../reference/bc_neighbours.html">bc_neighbours</a></span><span class="op">(</span><span class="op">)</span>, mapping <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="fu"><a href="../reference/bc_cities.html">bc_cities</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">coord_sf</a></span><span class="op">(</span>datum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_d</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Jurisdiction"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-bc_neighbours-1.png" alt="A map of British Columbia with points representing B.C. cities, with the neighbouring states and provinces shown." width="100%"></p>
</div>
<div class="section level3">
<h3 id="biogeoclimatic-zones">Biogeoclimatic Zones<a class="anchor" aria-label="anchor" href="#biogeoclimatic-zones"></a>
</h3>
<p>As of version 0.15.0 the B.C. BEC (Biogeoclimatic Ecosystem
Classification) map is available via the <code><a href="../reference/bec.html">bec()</a></code> function,
and an accompanying function <code><a href="../reference/bec_colours.html">bec_colours()</a></code> function to
colour it:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bec.html">bec</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="va">bec_sub</span> <span class="op">&lt;-</span> <span class="va">bec</span><span class="op">[</span><span class="va">bec</span><span class="op">$</span><span class="va">ZONE</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BG"</span>, <span class="st">"PP"</span><span class="op">)</span>,<span class="op">]</span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">bec_sub</span>,</span>
<span>          <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">ZONE</span>, col <span class="op">=</span> <span class="va">ZONE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_fill_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="../reference/bec_colours.html">bec_colors</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_colour_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="../reference/bec_colours.html">bec_colours</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="vignette-fig-bec-1.png" alt="A map of the Bunchgrass and Ponderosa Pine Biogeoclimatic zones in Southern British Columbia." width="100%"></p>
</div>
<div class="section level3">
<h3 id="updating-layers">Updating layers<a class="anchor" aria-label="anchor" href="#updating-layers"></a>
</h3>
<p>When you first call a layer function <code>bcmaps</code> will remind
you when that layer was last updated in your cache with a message. For a
number of reasons, it might be necessary to get a fresh layer in your
<code>bcmaps</code> cache. The easiest way to update is to use the
<code>force</code> argument:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ecoprovinces.html">ecoprovinces</a></span><span class="op">(</span>force <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Another option is to actively manage your cache by deleting the old
layer and calling the function again:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/delete_cache.html">show_cached_files</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/delete_cache.html">delete_cache</a></span><span class="op">(</span><span class="st">'ecoprovinces'</span><span class="op">)</span></span>
<span><span class="va">ep</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ecoprovinces.html">ecoprovinces</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="utility-functions">Utility Functions<a class="anchor" aria-label="anchor" href="#utility-functions"></a>
</h3>
<p>The package also contains a few handy utility functions:</p>
<ul>
<li>
<code><a href="../reference/transform_bc_albers.html">transform_bc_albers()</a></code> for transforming any
<code>sf</code> object to <a href="https://epsg.io/3005" class="external-link">BC Albers</a>
projection</li>
<li>
<code><a href="../reference/bc_area.html">bc_area()</a></code> to get the total area of British Columbia in
various units</li>
<li>
<code><a href="../reference/bc_bbox.html">bc_bbox()</a></code> to get an extend/bounding box for British
Columbia</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andy Teucher, Sam Albers, Stephanie Hazlitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
